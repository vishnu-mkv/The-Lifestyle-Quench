<section class="width-control" id="editor">

    <form #postForm="ngForm" (ngSubmit)="createPost(postForm)">
        <textarea [(ngModel)]="postInstance.title" [placeholder]=titlePlaceholder cdkTextareaAutosize
                  class="width-control"
                  id="title" name="title" required></textarea>
        <textarea [(ngModel)]="postInstance.summary" [placeholder]="summaryPlaceholder" cdkTextareaAutosize
                  class="width-control"
                  id="summary" name="summary" required></textarea>
        <div (click)="popup.open('thumbnail-upload')" id="thumbnail">
            <img [hidden]="postInstance.thumbnail === ''" [src]="postInstance.thumbnail" alt="">
            <p *ngIf="postInstance.thumbnail === ''">No thumbnail</p>
            <input [(ngModel)]="postInstance.thumbnail" class="hidden" name="thumbnail" required type="text">
        </div>
        <quill-editor
            (onEditorCreated)="getEditorInstance($event)"
            [(ngModel)]="postInstance.content"
            [modules]="modules"
            [required]="true"
            [styles]="{
            fontFamily: ['Poppins', 'sans-serif'],
            fontSize: '1em',
            height: 'fit-content',
            lineHeight: 1.7
        }"
            name="content"
        ></quill-editor>
        <button class="btn-highlight">Save Post</button>
    </form>
</section>


<popup id="image-upload">
    <app-image-cropper-uploader
        (imageSetter)="imageUploaded($event)"
        [aspectRatios]="[[1,1],[3,4],[4,3],[16,9]]"
        url="upload/images/post/">
    </app-image-cropper-uploader>
</popup>

<popup id="thumbnail-upload">
    <app-image-cropper-uploader
        (imageSetter)="thumbnailUploaded($event)"
        [aspectRatios]="[[4,3],[16,9]]"
        [src]="postInstance.thumbnail"
        popupId="thumbnail-upload"
        url="upload/images/post/thumbnail/">
    </app-image-cropper-uploader>
</popup>
